# 需求分析（Requirements Analysis）

目标与范围
- 面向 SideQuestCommunity 社区平台，覆盖内容生产、互动、审核、搜索、管理与统计
- 角色包括用户、管理员、内容审核与数据分析
- 需求基线与数据库/接口定义保持一致，后续以迭代变更记录为准

角色与核心场景
- 普通用户：注册登录、浏览内容、发布帖子、评论/点赞/收藏、私信聊天、观看弹幕
- 管理员：用户管理、内容管理、审核处理、风险处置
- 内容审核：对帖子与媒体进行合规校验
- 数据分析：查看平台热度、内容分布、用户活跃情况

功能需求
- 身份与账号（identity）
  - 用户注册、登录、退出
  - JWT 鉴权、角色与状态控制（正常/封禁/删除）
  - 关注与粉丝关系
- 内容与互动（core）
  - 帖子发布、编辑、删除、状态流转（审核中/正常/封禁/删除）
  - 评论、点赞、收藏、浏览量统计
  - 分区与标签基础能力
- 媒体与弹幕（media）
  - 图片/视频上传与元数据管理
  - 弹幕发送与按时间窗口拉取
- 搜索与审核（search/moderation）
  - 全文检索与索引同步
  - 内容审核接口对接
- 统计分析（analytics）
  - 关键事件埋点与基础统计指标
- 聊天（chat）
  - 私聊/群聊房间、成员、消息记录

数据与指标
- 用户维度：注册量、活跃度、关注关系、发帖/互动数
- 内容维度：帖子数量、互动次数、浏览数、收藏数
- 审核维度：审核通过率、违规占比、处理时效

非功能需求
- 可用性：核心接口高可用，关键流程失败可回退
- 安全性：鉴权与权限隔离、敏感内容审核、日志可追溯
- 性能：搜索与弹幕接口保证高并发可用
- 可维护性：模块边界清晰，服务间调用有标准化接口

约束与风险
- 目前 SQL 未显式定义外键，需在业务层保证一致性
- 搜索与统计为异步链路，存在最终一致性风险
- 媒体处理依赖异步转码与对象存储稳定性

验收标准（示例）
- 主要用户路径（注册-登录-发帖-互动）可完整跑通
- 管理端可查看并处理用户与内容
- 搜索可检索到最新内容（允许短暂延迟）
- 部署文档可在本地完成服务启动与初始化

相关文档
- 时间线: `doc/project-timeline.md`
- 数据库说明: `doc/database.md`
- 微服务拓扑: `doc/microservices-topology.md`
- 接口定义: `doc/openapi.yaml`
- 部署手册: `deployment-guide.md`
